# terminaide/tasks.yaml

tasks:
  # Development servers
  serve-function:
    shell: python examples/function.py
    help: Run function mode demo
    
  serve-script:
    shell: python examples/script.py
    help: Run script mode demo
    
  serve-apps:
    shell: python examples/apps.py
    help: Run apps mode demo (FastAPI integration)
    
  # Testing
  test:
    cmd: pytest tests/ -v
    help: Run pytest tests
    
  # Docker Operations
  spin:
    sequence:
      - shell: docker stop terminaide-container 2>/dev/null || true
      - shell: docker rm terminaide-container 2>/dev/null || true
      - cmd: docker build -t terminaide .
      - cmd: docker run --name terminaide-container -p 8000:8000 terminaide
    help: Spin up Docker container
  
  # GitHub Issue Management (uses issue-manager package)
  list:
    cmd: python -m issue_manager.cli list
    help: List all open issues
    
  bug:
    cmd: python -m issue_manager.cli bug
    help: Create a new bug issue
    
  gh-task:
    cmd: python -m issue_manager.cli task
    help: Create a new task issue
    
  idea:
    cmd: python -m issue_manager.cli idea
    help: Create a new idea issue
    
  resolve:
    cmd: python -m issue_manager.cli resolve
    help: Resolve (close) issues by number
    
  delete:
    cmd: python -m issue_manager.cli delete
    help: Delete issues permanently by number
  
  # PyPI Publishing (still using Makefile for now)
  release-patch:
    shell: make -f tools/Makefile.pypi-publisher release-patch
    help: Bump patch version and publish
    
  release-minor:
    shell: make -f tools/Makefile.pypi-publisher release-minor
    help: Bump minor version and publish
    
  release-major:
    shell: make -f tools/Makefile.pypi-publisher release-major
    help: Bump major version and publish