# terminaide/tasks.yaml

tasks:
  # Only project-specific tasks
  serve-function:
    shell: python examples/function.py
    help: Run function mode demo
    
  serve-script:
    shell: python examples/script.py
    help: Run script mode demo
    
  serve-apps:
    shell: python examples/apps.py
    help: Run apps mode demo (FastAPI integration)
    
  test:
    cmd: pytest tests/ -v
    help: Run pytest tests
    
  spin:
    sequence:
      - shell: docker stop terminaide-container 2>/dev/null || true
      - shell: docker rm terminaide-container 2>/dev/null || true
      - cmd: docker build -t terminaide .
      - cmd: docker run --name terminaide-container -p 8000:8000 terminaide
    help: Spin up Docker container
  
  # PyPI Publishing (still using Makefile for now)
  release-patch:
    shell: make -f tools/Makefile.pypi-publisher release-patch
    help: Bump patch version and publish
    
  release-minor:
    shell: make -f tools/Makefile.pypi-publisher release-minor
    help: Bump minor version and publish
    
  release-major:
    shell: make -f tools/Makefile.pypi-publisher release-major
    help: Bump major version and publish